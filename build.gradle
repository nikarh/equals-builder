plugins {
    id 'me.champeau.gradle.jmh' version '0.3.1'
    id 'com.bmuschko.nexus' version '2.3.1'
    id 'net.researchgate.release' version '2.4.0'
}

group 'net.arhipov'

apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'jacoco'
apply from: 'gradle/publish.gradle'

sourceCompatibility = 1.8
targetCompatibility = 1.8

jmh {
    jmhVersion = '1.14'
}

jacocoTestReport {
    reports {
        xml.enabled true
    }
}

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    jmh group: 'org.apache.commons', name: 'commons-lang3', version: '3.4'
}

check.dependsOn jacocoTestReport